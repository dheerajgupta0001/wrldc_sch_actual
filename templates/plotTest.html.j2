{% extends "layoutBase.html.j2" %}
{% block title %}शैड्यूल ड्रावल ग्राफ{% endblock %}

{% block head %}
{{ super() }}
{% endblock %}

{% block content %}
<style type='text/css'>
    h1 {
    color : black;
    }
    h3 {
    color : black;
    border: 0.4rem solid transparent;
    /* width: 8em;
    height: 10em; */
    max-height: 30em;
    overflow: auto;
    font-size: 1.5rem;
    padding: 1rem;
    }
</style>
<h1><strong>शैड्यूल ड्रावल ग्राफ प्रदर्शित करें</h1>
<form class="form" method="POST">
    <div class="form-row">
        <div class="form-group col-md-2">
        <label for="startDate">आरंभ तिथि</label>
        <input type="date" class="form-control bg-light border-1 mr-2" required="" name = "startDate" id="startDate" {% if startDate %} value="{{startDate}}" {% endif %}>
        </div>
        <div class="form-group col-md-2">
        <label for="endDate">समाप्ति तिथि</label>
        <input type="date" name = "endDate" class="form-control" required id="endDate" {% if endDate %} value="{{endDate}}" {% endif %}>
        </div>
        <div class="col-md-4">
            <label for="stateName">घटक (ओं) का नाम चुनें:</label>
            <select multiple class="chosen-select" name="stateName" required="" id="stateName" style="color:black" placeholder="Select location here..">
                {# <option value="CS">छत्तीसगढ</option> #}
                <option value="DNH">दादरा नगर हवेली</option>
                <option value="DD">दमन दीव</option>
                <option value="GO">गोवा</option>
                <option value="MP">मध्य प्रदेश</option>
                <option value="GU">गुजरात</option>
                <option value="MH">महाराष्ट्र</option>
            </select>
        </div>
        <div class="col-md-3 align-self-center mt-4">
        <input type="submit" class = "btn btn-primary" value="submit">
        </div>
    </div>
</form>

{% block scripts %}
<script language="JavaScript" type="text/javascript" src="{{ url_for('static', filename= 'app/multiSelect.js') }}"></script>
<script language="JavaScript" type="text/javascript" src="static/app/index.js"></script>
<script language="JavaScript" type="text/javascript" src="static/node_modules/plotly.js-dist/plotly.js"></script>
{# <script language="JavaScript" type="text/javascript" src="static/node_modules/chosen-js/chosen.jquery.min.js"></script> #}

{% if data %}
    {# dynamic div testing #}
    {% for stateName, divItr, tableDiv, tableDf in div_info %}
        <div id={{stateName}} style="display:inline-block; width:66%; height: 100%; background-color:#fff; "></div>

        {# Test table strats #}
        <div id={{tableDiv}} style="display:inline-block; width:33%; height: 100%; background-color:#fff; ">
            <table id={{tableDiv}} class="table table-bordered table-hover display w-auto">
                <thead>
                    <tr>
                    <th class="th-sm">Date</th>
                    <th class="th-sm">maxActual</th>
                    <th class="th-sm">minActual</th>
                    <th class="th-sm">maxSchedule</th>
                    <th class="th-sm">minSchedule</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in tableDf %}
                    <tr>
                        <th>{{row['date']}}</th>
                        <th>{{row['maxActual']}}</th>
                        <th>{{row['minActual']}}</th>
                        <th>{{row['maxSchedule']}}</th>
                        <th>{{row['minSchedule']}}</th>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {# test table ends #}


        {% if divItr%2==0 %}
            <div class="pagebrk"></div>
        {% endif %}
    {% endfor %}
    {% set dfData = data %}
    <script>
        var consName = {{ consName|safe }};
        var stateList = {{ stateList|safe }};
        var dfData_gGlob = {{ dfData|safe }};
        window.onload = function() {
            loadPlotData();
        }
    </script>
{% endif %}
    <style>
        thead input {
            padding: 2px;
            box-sizing: border-box;
            font-size: small;
            width: 100%
        }
        .rightSpan{
             float:right;
             font-size: 22px;
         }
         @page{
         size:auto;
         }
         @media print {
            .pagebrk {
                clear: both;
                page-break-after: always;
            }
        }
    </style>

{% endblock %}


{% endblock %}

